<!DOCTYPE html>
<html lang="{{ lang }}">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>{% block title %}{{ restaurant.name }} - {{ restaurant.tagline[lang] }}{% endblock %}</title>
    <meta name="description" content="{{ restaurant.description[lang] }}">
    
    <!-- Fonts -->
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Playfair+Display:ital,wght@0,400;0,500;0,600;0,700;1,400&family=Crimson+Text:ital,wght@0,400;0,600;1,400&family=Cormorant+Garamond:ital,wght@0,300;0,400;0,500;0,600;1,400&display=swap" rel="stylesheet">
    
    <!-- Icons -->
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    
    <!-- Main CSS -->
    <link rel="stylesheet" href="/static/css/main.css">
    
    <!-- Favicon -->
    <link rel="icon" type="image/x-icon" href="/static/images/favicon.ico">
    
    {% block head %}{% endblock %}
</head>
<body>
    <!-- Navigation -->
    <nav class="navbar" id="navbar">
        <div class="nav-container">
            <div class="nav-brand">
                <a href="/?lang={{ lang }}" class="brand-link">
                    <div class="brand-icon">Yí</div>
                    <span class="brand-text">Restaurant</span>
                </a>
            </div>
            
            <div class="nav-menu" id="nav-menu">
                <a href="/?lang={{ lang }}" class="nav-link">
                    {% if lang == 'de' %}Startseite{% else %}Home{% endif %}
                </a>
                <a href="/menu?lang={{ lang }}" class="nav-link">
                    {% if lang == 'de' %}Speisekarte{% else %}Menu{% endif %}
                </a>
                <a href="/about?lang={{ lang }}" class="nav-link">
                    {% if lang == 'de' %}Über uns{% else %}About{% endif %}
                </a>
                <a href="/gallery?lang={{ lang }}" class="nav-link">
                    {% if lang == 'de' %}Galerie{% else %}Gallery{% endif %}
                </a>
                <a href="/contact?lang={{ lang }}" class="nav-link">
                    {% if lang == 'de' %}Kontakt{% else %}Contact{% endif %}
                </a>
            </div>
            
            <div class="nav-actions">
                <div class="language-switcher">
                    <!-- <a href="{{ request.url.path }}?lang=en" class="lang-link {% if lang == 'en' %}active{% endif %}">EN</a> -->
                    <a href="{{ request.url._url.split('?')[0] }}?lang=en" class="lang-link {% if lang == 'en' %}active{% endif %}">EN</a>

                    <span class="lang-separator">|</span>
                    <!-- <a href="{{ request.url.path }}?lang=de" class="lang-link {% if lang == 'de' %}active{% endif %}">DE</a> -->
                    <a href="{{ request.url._url.split('?')[0] }}?lang=de" class="lang-link {% if lang == 'de' %}active{% endif %}">DE</a>

                </div>
                <button class="reservation-btn" onclick="openReservationModal()">
                    {% if lang == 'de' %}Reservieren{% else %}Reserve{% endif %}
                </button>
                <button class="nav-toggle" id="nav-toggle">
                    <span></span>
                    <span></span>
                    <span></span>
                </button>
            </div>
        </div>
    </nav>

    <!-- Main Content -->
    <main>
        {% block content %}{% endblock %}
    </main>

    <!-- Footer -->
    <footer class="footer">
        <div class="footer-content">
            <div class="footer-section">
                <h3 class="footer-title">{{ restaurant.name }}</h3>
                <p class="footer-description">{{ restaurant.description[lang] }}</p>
                <div class="social-links">
                    <a href="https://web.facebook.com/100088145139223/videos/?_rdc=1&_rdr#" class="social-link"><i class="fab fa-facebook-f"></i></a>
                    <a href="https://www.instagram.com/explore/locations/109903288612685/yi-restaurant/" class="social-link"><i class="fab fa-instagram"></i></a>
                    <a href="#" class="social-link"><i class="fab fa-tripadvisor"></i></a>
                    <a href="#" class="social-link"><i class="fab fa-google"></i></a>
                </div>
            </div>
            
            <div class="footer-section">
                <h4 class="footer-subtitle">
                    {% if lang == 'de' %}Öffnungszeiten{% else %}Opening Hours{% endif %}
                </h4>
                <div class="hours-list">
                    {% for day, hours in restaurant.hours[lang].items() %}
                    <div class="hours-item">
                        <span class="day">{{ day.title() }}:</span>
                        <span class="hours">{{ hours }}</span>
                    </div>
                    {% endfor %}
                </div>
            </div>
            
            <div class="footer-section">
                <h4 class="footer-subtitle">
                    {% if lang == 'de' %}Kontakt{% else %}Contact{% endif %}
                </h4>
                <div class="contact-info">
                    <p><i class="fas fa-map-marker-alt"></i> {{ restaurant.address }}</p>
                    <p><i class="fas fa-phone"></i> {{ restaurant.phone }}</p>
                    <p><i class="fas fa-envelope"></i> {{ restaurant.email }}</p>
                </div>
            </div>
        </div>
        
        <div class="footer-bottom">
            <p>&copy; {{ current_year }} {{ restaurant.name }}. 
            {% if lang == 'de' %}Alle Rechte vorbehalten.{% else %}All rights reserved.{% endif %}
            </p>
        </div>
    </footer>

    <!-- Reservation Modal -->
    <div class="modal" id="reservation-modal">
        <div class="modal-content">
            <div class="modal-header">
                <h2>{% if lang == 'de' %}Tisch reservieren{% else %}Make a Reservation{% endif %}</h2>
                <button class="modal-close" onclick="closeReservationModal()">&times;</button>
            </div>
            <form class="reservation-form" action="/reservation" method="POST">
                <input type="hidden" name="lang" value="{{ lang }}">
                <div class="form-row">
                    <div class="form-group">
                        <label for="name">{% if lang == 'de' %}Name{% else %}Name{% endif %}</label>
                        <input type="text" id="name" name="name" required>
                    </div>
                    <div class="form-group">
                        <label for="email">Email</label>
                        <input type="email" id="email" name="email" required>
                    </div>
                </div>
                <div class="form-row">
                    <div class="form-group">
                        <label for="phone">{% if lang == 'de' %}Telefon{% else %}Phone{% endif %}</label>
                        <input type="tel" id="phone" name="phone" required>
                    </div>
                    <div class="form-group">
                        <label for="guests">{% if lang == 'de' %}Gäste{% else %}Guests{% endif %}</label>
                        <select id="guests" name="guests" required>
                            {% for i in range(1, 13) %}
                            <option value="{{ i }}">{{ i }}</option>
                            {% endfor %}
                        </select>
                    </div>
                </div>
                <div class="form-row">
                    <div class="form-group">
                        <label for="date">{% if lang == 'de' %}Datum{% else %}Date{% endif %}</label>
                        <input type="date" id="date" name="date" required>
                    </div>
                    <div class="form-group">
                        <label for="time">{% if lang == 'de' %}Zeit{% else %}Time{% endif %}</label>
                        <select id="time" name="time" required>
                            <option value="18:00">6:00 PM</option>
                            <option value="18:30">6:30 PM</option>
                            <option value="19:00">7:00 PM</option>
                            <option value="19:30">7:30 PM</option>
                            <option value="20:00">8:00 PM</option>
                            <option value="20:30">8:30 PM</option>
                            <option value="21:00">9:00 PM</option>
                            <option value="21:30">9:30 PM</option>
                        </select>
                    </div>
                </div>
                <div class="form-group">
                    <label for="message">{% if lang == 'de' %}Besondere Wünsche{% else %}Special Requests{% endif %}</label>
                    <textarea id="message" name="message" rows="3"></textarea>
                </div>
                <button type="submit" class="btn-primary">
                    {% if lang == 'de' %}Reservierung bestätigen{% else %}Confirm Reservation{% endif %}
                </button>
            </form>
        </div>
    </div>

    <!-- Overlay -->
    <div class="overlay" id="overlay"></div>

    <!-- Scripts -->
    <script src="/static/js/main.js"></script>
    {% block scripts %}{% endblock %}
</body>
</html>
